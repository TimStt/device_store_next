(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{9201:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return e(9999)}])},7233:function(t,r,e){"use strict";e.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,e(4370).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},3980:function(t,r,e){"use strict";e.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,e(4370).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},718:function(t,r,e){"use strict";e.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,e(4370).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9999:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return q}});var n,o,s,i,a,l=e(5893),c=e(9008),_=e.n(c),u=e(7294),d=e(1020),h=e.n(d),p=e(1816),m=e(151),x=e.n(m),g=e(898),f=e(5268);let v=()=>({initialValues:{username:"",password:""}});var j=e(7610),w=e.n(j),b=e(1664),k=e.n(b),y=e(3302),N=e.n(y),Z=e(3171),E=e(3299);let I=async t=>{let{provider:r,setLoading:e}=t;try{return e(!0),await (0,E.signIn)(r,{callbackUrl:"http://localhost:3000"})}catch(t){console.log(t.message)}finally{e(!1)}},C=async t=>{let{user:r,setLoading:e}=t;try{return e(!0),await (0,E.signIn)("credentials",{redirect:!1,...r,callbackUrl:"http://localhost:3000"})}catch(t){console.log(t.message)}finally{e(!1)}};var F=e(1163),M=e(9558);let O=()=>{let t=(0,F.useRouter)(),[r,e]=(0,u.useState)(!1),[n,o]=(0,u.useState)(!1),s="Вы успешно вошли в систему";return{isLoadingCredentials:r,isLoadingProviders:n,onSubmit:async r=>{var n;let o=await C({user:r,setLoading:e});console.log("resultSignIn",o),o&&(0,M.M)({result:{ok:o.ok,error:null!==(n=o.error)&&void 0!==n&&n},router:t,textSuccessfullyToast:s})},onSubmitWithProviders:async r=>{var e;let n=await I({provider:r,setLoading:o});n&&(0,M.M)({result:{ok:n.ok,error:null!==(e=n.error)&&void 0!==e&&e},router:t,textSuccessfullyToast:s})}}};var P=e(5007),A=()=>{let{isLoadingCredentials:t}=O();return(0,P.I0)(),(0,l.jsx)("button",{className:N().root,type:"submit",disabled:t,children:t?(0,l.jsx)(Z.Z,{size:20,strokeWidth:2}):"Войти"})},B=e(5023),S=e.n(B);function z(){return(z=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(null,arguments)}var R=function(t){return u.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),n||(n=u.createElement("path",{fill:"#4285F4",d:"M14.9 8.161c0-.476-.039-.954-.121-1.422h-6.64v2.695h3.802a3.24 3.24 0 0 1-1.407 2.127v1.75h2.269c1.332-1.22 2.097-3.02 2.097-5.15"})),o||(o=u.createElement("path",{fill:"#34A853",d:"M8.14 15c1.898 0 3.499-.62 4.665-1.69l-2.268-1.749c-.631.427-1.446.669-2.395.669-1.836 0-3.393-1.232-3.952-2.888H1.85v1.803A7.04 7.04 0 0 0 8.14 15"})),s||(s=u.createElement("path",{fill:"#FBBC04",d:"M4.187 9.342a4.17 4.17 0 0 1 0-2.68V4.859H1.849a6.97 6.97 0 0 0 0 6.286z"})),i||(i=u.createElement("path",{fill:"#EA4335",d:"M8.14 3.77a3.84 3.84 0 0 1 2.7 1.05l2.01-1.999a6.79 6.79 0 0 0-4.71-1.82 7.04 7.04 0 0 0-6.29 3.858L4.186 6.66c.556-1.658 2.116-2.89 3.952-2.89z"})))};function W(){return(W=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(null,arguments)}var L=function(t){return u.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -0.5 48 48"},t),a||(a=u.createElement("path",{fill:"currentColor",d:"M23.999 0C10.746 0 0 10.787 0 24.097 0 34.74 6.876 43.772 16.414 46.958c1.2.222 1.639-.522 1.639-1.16 0-.573-.021-2.088-.034-4.098-6.676 1.456-8.085-3.23-8.085-3.23-1.09-2.784-2.664-3.525-2.664-3.525-2.179-1.495.166-1.465.166-1.465 2.407.17 3.675 2.483 3.675 2.483 2.142 3.683 5.617 2.62 6.985 2.002.217-1.557.838-2.619 1.524-3.221-5.33-.609-10.932-2.675-10.932-11.908 0-2.63.934-4.781 2.47-6.466-.247-.61-1.07-3.059.235-6.377 0 0 2.016-.647 6.6 2.47 1.915-.534 3.967-.801 6.008-.811 2.039.01 4.092.277 6.01.811 4.58-3.117 6.592-2.47 6.592-2.47 1.31 3.318.486 5.767.238 6.377 1.54 1.685 2.468 3.835 2.468 6.466 0 9.256-5.612 11.293-10.958 11.89.861.744 1.63 2.213 1.63 4.462 0 3.22-.03 5.819-.03 6.61 0 .644.432 1.394 1.65 1.157C41.13 43.763 48 34.738 48 24.097 48 10.787 37.254 0 23.999 0"})))},G=e(3967),K=e.n(G),U=t=>{let{provider:r}=t,{isLoadingProviders:e,onSubmitWithProviders:n}=O();return(0,l.jsxs)("button",{className:K()(S().root,S()[r]),disabled:e,onClick:()=>n(r),children:[(0,l.jsx)("span",{children:e?(0,l.jsx)(Z.Z,{size:10,strokeWidth:2}):"Войти с помощью ".concat(r)}),{google:(0,l.jsx)(R,{className:S().icon}),github:(0,l.jsx)(L,{className:S().icon})}[r]]})},V=()=>(0,l.jsxs)("div",{className:w().root,children:[(0,l.jsxs)("div",{className:w().root__group_btns,children:[(0,l.jsx)(A,{}),(0,l.jsx)(U,{provider:"google"}),(0,l.jsx)(U,{provider:"github"})]}),(0,l.jsxs)("p",{className:w().notRegister,children:["Еще нету аккаунта? ",(0,l.jsx)(k(),{href:"/register",children:" Регистрация"})]})]}),T=e(5066),H=t=>{let r={},{password:e}=t;return e.length<6?r.password="Пароль должен содержать не менее 6 символов":e.length>12&&(r.password="Пароль должен содержать не более 12 символов"),Object.entries(t).forEach(t=>{let[e,n]=t;n||(r={...r,[e]:"Обязательное поле"}),n.includes(" ")&&(r={...r,[e]:"Уберите пробелы"})}),r},Q=()=>{let{initialValues:t}=v(),{onSubmit:r}=O();return(0,l.jsx)(T.J9,{initialValues:t,onSubmit:r,validateOnChange:!1,validate:H,children:t=>{let{handleSubmit:r,errors:e,touched:n,getFieldProps:o}=t;return(0,l.jsxs)("form",{className:x().root,onSubmit:r,children:[(0,l.jsx)(f.Z,{className:x().root__input,hasErrorInput:!!e.username&&!!n.username,textError:e.username,...o("username")}),(0,l.jsx)(g.Z,{className:x().root__input,hasErrorInput:!!e.password&&!!n.password,textError:e.password,...o("password")}),(0,l.jsx)(V,{})]})}})},q=()=>(0,l.jsxs)(p.Z,{children:[(0,l.jsx)(_(),{children:(0,l.jsx)("title",{children:"Login"})}),(0,l.jsxs)("section",{className:h().root,children:[(0,l.jsxs)("div",{className:h().root__title_block,children:[(0,l.jsx)("h1",{children:"Вход"}),(0,l.jsx)("p",{children:"Для удобства использования нашей платформы, войдите в свою учетную запись!"})]}),(0,l.jsx)(Q,{})]})]})},2355:function(t,r,e){"use strict";var n=e(5893);e(7294);var o=e(5811),s=e.n(o);r.Z=t=>{let{textError:r}=t;return(0,n.jsx)("span",{className:s().errors,children:r})}},7364:function(t,r,e){"use strict";var n=e(5893),o=e(7294),s=e(3967),i=e.n(s),a=e(7484),l=e.n(a);let c=(0,o.forwardRef)((t,r)=>{let{children:e,classnameBlock:o,classnameInput:s,icon:a,className:c,labelElement:_,hasErrorInput:u,classNameInnerBlock:d,...h}=t;return(0,n.jsxs)("div",{className:i()(l().root,o,{[l().invalid]:u,[l().iconNone]:!a}),children:[a?(0,n.jsxs)("div",{className:i()(l().root__inner,d),children:[_,(0,n.jsx)("input",{className:c,ref:r,...h}),a]}):(0,n.jsxs)(n.Fragment,{children:[_,(0,n.jsx)("input",{ref:r,...h})]}),e]})});c.displayName="InputGroup",r.Z=c},898:function(t,r,e){"use strict";e.d(r,{Z:function(){return p}});var n=e(5893),o=e(2355),s=e(7364),i=e(7294),a=e(5586),l=e.n(a),c=e(3967),_=e.n(c),u=e(7233),d=e(3980);let h=()=>{let[t,r]=(0,i.useState)(!0);return[t,e=>t?(0,n.jsx)(u.Z,{className:e,onClick:()=>r(!1)}):(0,n.jsx)(d.Z,{className:e,onClick:()=>r(!0)})]};var p=t=>{let{hasErrorInput:r,textError:e,className:i,placeholder:a,...c}=t,[u,d]=h();return(0,n.jsx)(s.Z,{className:_()(l().root,i,{[l().invalid]:r}),icon:(0,n.jsxs)(n.Fragment,{children:[d(l().root__eye),(0,n.jsx)("span",{className:l().root__smile,children:" "})]}),classNameInnerBlock:l().root__inner_block,type:u?"password":"text",placeholder:a||"Секретный пароль",pattern:".{6,}",hasErrorInput:r,...c,children:r&&(0,n.jsx)(o.Z,{textError:e})})}},5268:function(t,r,e){"use strict";var n=e(5893),o=e(2355),s=e(7364),i=e(718),a=e(7294),l=e(3585),c=e.n(l),_=e(3967),u=e.n(_);let d=(0,a.memo)(t=>{let{hasErrorInput:r,textError:e,className:a,...l}=t;return console.log("InputUserName",l.value),(0,n.jsx)(s.Z,{className:u()(c().root,a),icon:(0,n.jsx)(i.Z,{className:c().root__icon,size:24}),classnameBlock:c().root__input_block,type:"text",hasErrorInput:r,placeholder:"Введите свое имя",classNameInnerBlock:c().root__inner_block,...l,children:r&&(0,n.jsx)(o.Z,{textError:e})})});d.displayName="InputUserName",r.Z=d},1816:function(t,r,e){"use strict";var n=e(5893),o=e(9008),s=e.n(o);e(7294);var i=e(2534),a=e.n(i),l=e(5675),c=e.n(l),_=e(3967),u=e.n(_);r.Z=t=>{let{children:r,title:e}=t;return(0,n.jsxs)("div",{className:a().background,children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:e||"Авторизация"})}),(0,n.jsxs)("article",{className:u()(a().window,"container"),children:[(0,n.jsx)("div",{className:a().img,children:(0,n.jsx)(c(),{src:"/shopAuth.png",alt:"девушка с сумками продуктов",width:"200",height:"200",objectFit:"contain"})}),(0,n.jsx)("div",{className:a().auth,children:r})]})]})}},3171:function(t,r,e){"use strict";var n=e(5893),o=e(714),s=e.n(o),i=e(3967),a=e.n(i);r.Z=t=>{let{size:r,strokeWidth:e=6,className:o}=t,i=r/2;return(0,n.jsx)("svg",{className:a()(s().root,o),viewBox:"0 0 ".concat(r," ").concat(r),xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:"transparent",children:(0,n.jsx)("circle",{className:s().root__path,stroke:"inherit",strokeWidth:e,strokeLinecap:"round",cx:i,cy:i,r:i})})}},9558:function(t,r,e){"use strict";e.d(r,{M:function(){return o}});var n=e(6501);let o=t=>{let{result:r,router:e,textSuccessfullyToast:o}=t;if(r.ok){n.ZP.success(o),e.push(r.url);return}n.ZP.error("Ошибка авторизации. Попробуйте еще раз")}},5811:function(t){t.exports={errors:"_errorAuth_errors__nQUrt"}},7484:function(t){t.exports={root:"input-group_root__bCqPx",iconNone:"input-group_iconNone__c0tTw",invalid:"input-group_invalid__P1cn5"}},5586:function(t){t.exports={root__inner_block:"input-password_root__inner_block__wrRTd",root__smile:"input-password_root__smile__srfFo",root__eye:"input-password_root__eye__FNFIx",root:"input-password_root__vmKLg",invalid:"input-password_invalid__BhoG3"}},3585:function(t){t.exports={root__inner_block:"input-username_root__inner_block__Bqz9c",root__icon:"input-username_root__icon__rrnyi"}},2534:function(t){t.exports={background:"layout-auth_background__5KuQu",window:"layout-auth_window__eDrY_",img:"layout-auth_img__LxpSc",auth:"layout-auth_auth__i_rCD"}},1020:function(t){t.exports={root:"login_root__1EiWK",root__title_block:"login_root__title_block__RGVQl",block:"login_block__ydWPA"}},7610:function(t){t.exports={root__group_btns:"form-actions_root__group_btns__FhFhh",root:"form-actions_root__Qvy_F",notRegister:"form-actions_notRegister__KvGuz"}},151:function(t){t.exports={root:"form-login_root__2ESpY"}},5023:function(t){t.exports={root:"providers-submit_root__uWGcC",google:"providers-submit_google__xRAKO",github:"providers-submit_github__gghsP"}},3302:function(t){t.exports={root:"submit-credentials_root__f067G"}},714:function(t){t.exports={root:"spinner_root__bTm2b",rotator:"spinner_rotator__JW5KF",root__path:"spinner_root__path__Hl9xr",dash:"spinner_dash__k9eFl",colors:"spinner_colors__pVAZV"}}},function(t){t.O(0,[66,888,774,179],function(){return t(t.s=9201)}),_N_E=t.O()}]);