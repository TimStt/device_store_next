(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{5443:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/basket",function(){return o(3851)}])},3311:function(t,e,o){"use strict";o.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o(4370).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},8453:function(t,e,o){"use strict";o.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o(4370).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3851:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return D}});var s=o(5893);o(7294);var r=o(608),c=o.n(r),n=o(3967),a=o.n(n),l=o(9371),i=o.n(l),_=o(3889),d=o(5007),u=o(3486),p=o.n(u),h=o(5675),x=o.n(h),k=o(1664),b=o.n(k);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,o(4370).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var m=o(4420),N=o(5432),f=o.n(N),v=o(3311),g=o(8453),y=o(4262),P=o(3144),w=t=>{let{product:e}=t,{handlerAdd:o}=(0,y.U)(),{handlerDelete:r}=(0,P.k)();return(0,s.jsxs)("div",{className:f().root,children:[(0,s.jsxs)("button",{className:f().root__button,onClick:()=>r(e,!0),type:"button",title:"Удалить из корзины",children:[(0,s.jsx)(v.Z,{}),(0,s.jsx)("span",{className:"visually-hidden",children:"Удалить из корзины"})]}),(0,s.jsx)("b",{children:e.count}),(0,s.jsxs)("button",{className:f().root__button,onClick:()=>o(e),type:"button",title:"Добавить в корзину",children:[(0,s.jsx)(g.Z,{}),(0,s.jsx)("span",{className:"visually-hidden",children:"Добавить в корзину"})]})]})};let Z=t=>{let{product:e}=t,{handlerDelete:o}=(0,P.k)();return(0,s.jsxs)("article",{className:p().root,children:[(0,s.jsxs)(b(),{className:p().root__block,href:m.H.productPersonPage(e.id),children:[(0,s.jsx)(x(),{src:e.image,width:90,height:90,alt:e.title}),(0,s.jsxs)("div",{className:p().root__text_group,children:[(0,s.jsx)("h2",{className:p().root__title,children:e.title}),(0,s.jsx)("p",{className:p().root__discr,children:e.description})]})]}),(0,s.jsxs)("div",{className:p().root__prices,children:[(0,s.jsxs)("span",{children:[e.price," ₽ одна шт."]}),(0,s.jsxs)("span",{children:[e.totalPrice," ₽ за ",e.count," шт."]})]}),(0,s.jsxs)("div",{className:p().root__actions,children:[(0,s.jsx)(w,{product:e}),(0,s.jsxs)("button",{className:p().root__delete,onClick:()=>o(e),"aria-label":"Удалить",title:"Удалить товар из корзины",children:[(0,s.jsx)(j,{}),(0,s.jsx)("span",{className:"visually-hidden",children:"Удалить"})]})]})]},e.image)};Z.displayName="CardProductBasket";var B=()=>{let t=(0,d.v9)(_.B8);return(0,s.jsx)("div",{className:i().root,children:t.map((t,e)=>(0,s.jsx)(Z,{product:t},e))})},M=o(2236),C=o.n(M),H=()=>{let t=(0,d.v9)(_.pr),e=(0,d.v9)(_.gK);return(0,s.jsxs)("div",{className:C().root,children:[(0,s.jsxs)("span",{className:C().root__total_count,children:["Товары ",t," шт."]}),(0,s.jsxs)("span",{className:C().root__total_price,children:["Итого: ",e," ₽"]})]})},A=o(8507),E=o(1632),I=o.n(E),V=()=>{let t=(0,d.I0)();return(0,s.jsxs)("button",{className:I().root,onClick:()=>t((0,A.AN)()),title:"Очистить корзину",children:[(0,s.jsx)("span",{children:"Очистить корзину"})," ",(0,s.jsx)(j,{size:18,color:"red"})]})},X=o(20),D=function(){return(0,d.v9)(_.B8).length?(0,s.jsxs)("section",{className:a()(c().root,"container"),children:[(0,s.jsx)("div",{className:c().basket__top,children:(0,s.jsx)(V,{})}),(0,s.jsx)(B,{}),(0,s.jsx)(H,{})]}):(0,s.jsx)(X.Z,{title:"Корзина пуста",backLink:"home",image:"/empty.jpg"})}},20:function(t,e,o){"use strict";var s=o(5893);o(7294);var r=o(5675),c=o.n(r),n=o(4219),a=o.n(n),l=o(1664),i=o.n(l),_=o(4420);e.Z=t=>{let{title:e,description:o,image:r,backLink:n,textLink:l}=t;return(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("section",{className:a().root,children:(0,s.jsxs)("div",{className:a().blocks,children:[(0,s.jsx)("div",{className:a().block,children:(0,s.jsx)(c(),{src:r,alt:e,width:400,height:400})}),(0,s.jsx)("div",{className:a().block,children:(0,s.jsx)("h1",{children:e})}),o&&(0,s.jsx)("p",{children:o}),(0,s.jsx)("div",{className:a().block,children:(0,s.jsx)(i(),{className:a().btnBack,href:_.H[n],children:l||"Вернуться назад"})})]})})})}},4262:function(t,e,o){"use strict";o.d(e,{U:function(){return n}});var s=o(3889),r=o(7301),c=o(5007);let n=()=>{let t=JSON.parse(JSON.stringify((0,c.v9)(s.B8))),e=(0,c.I0)();return{handlerAdd:o=>{let s=t.find(t=>{let{id:e}=t;return e===o.id});Array.isArray(t)||(t=[]),s?(console.log("повторное добавление",s),s.count+=1,s.totalPrice+=o.price):(console.log(" добавление",o),t.push({...o,count:1,totalPrice:o.price}),console.log(" добавление",s)),(0,r.H)(t,e)}}}},3144:function(t,e,o){"use strict";o.d(e,{k:function(){return n}});var s=o(3889),r=o(7301),c=o(5007);let n=()=>{let t=[...(0,c.v9)(s.B8)],e=(0,c.I0)();return{handlerDelete:function(o){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{id:c,count:n,totalPrice:a}=o;if(s&&n>1)t=t.map(t=>t.id===c?{...t,count:--n,totalPrice:a-o.price}:t);else{let e=t.findIndex(t=>{let{id:e}=t;return e===o.id});t.splice(e,1)}(0,r.H)(t,e)}}}},7301:function(t,e,o){"use strict";o.d(e,{H:function(){return n}});var s=o(8507),r=o(2169),c=o(3581);let n=(t,e)=>{console.log("basketProducts",t),console.log("totalPrice",(0,c.V)(t,"totalPrice")),e((0,s.eh)((0,c.V)(t,"count"))),e((0,s.m1)((0,c.V)(t,"totalPrice"))),e((0,s.Re)(t)),(0,r.a)(t,"basket")}},4219:function(t){t.exports={root:"empty-page_root__cZczI",blocks:"empty-page_blocks__9Y9AR",btnBack:"empty-page_btnBack__ud4F6"}},608:function(t){t.exports={root:"basket_root__Y6CLY",basket__top:"basket_basket__top__vSzgx",cleanBusket:"basket_cleanBusket__gb02q"}},3486:function(t){t.exports={root:"card-product-basket_root__0lGH9",root__text_group:"card-product-basket_root__text_group__QPKDX",root__title:"card-product-basket_root__title__dMtkp",root__discr:"card-product-basket_root__discr___XFeE",root__actions:"card-product-basket_root__actions__MU4UA",root__delete:"card-product-basket_root__delete__sc4pg",root__block:"card-product-basket_root__block__Y9ywc",root__prices:"card-product-basket_root__prices__Z93oo"}},1632:function(t){t.exports={root:"clean-button_root__wDXjD"}},9371:function(t){t.exports={root:"list-products-basket_root__ZNJGm"}},2236:function(t){t.exports={root:"total-sums_root__bi_Ig",root__total_price:"total-sums_root__total_price__cufKQ",root__total_count:"total-sums_root__total_count__Lb_Rh"}},5432:function(t){t.exports={root:"counter_root__1dTb8",root__button:"counter_root__button__wQLqj"}}},function(t){t.O(0,[888,774,179],function(){return t(t.s=5443)}),_N_E=t.O()}]);