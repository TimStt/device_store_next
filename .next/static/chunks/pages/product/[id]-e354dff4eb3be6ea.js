(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{8871:function(t,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return o(752)}])},3311:function(t,n,o){"use strict";o.d(n,{Z:function(){return e}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let e=(0,o(4370).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},3416:function(t,n,o){"use strict";o.d(n,{Z:function(){return e}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let e=(0,o(4370).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},8453:function(t,n,o){"use strict";o.d(n,{Z:function(){return e}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let e=(0,o(4370).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},752:function(t,n,o){"use strict";o.r(n),o.d(n,{__N_SSP:function(){return A},default:function(){return B}});var e=o(5893);o(7294);var r=o(8994),s=o.n(r),i=o(5007),c=o(3299),a=o(2257),l=o(3967),_=o.n(l);let d=t=>t.personalProduct.device;var u=o(3171);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,o(4370).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var p=o(3416),f=o(5675),x=o.n(f),m=o(893),j=o.n(m),v=o(3311),g=o(8453),k=o(4262),N=o(3144),b=o(3889),y=t=>{let{device:n,session:o}=t,{handlerAdd:r}=(0,k.U)(),{handlerDelete:s}=(0,N.k)(),c=(0,i.v9)((0,b.NR)(n.id));return(0,e.jsxs)("div",{className:j().root,children:[(0,e.jsxs)("span",{className:j().root__price,children:[n.price," ₽ "]})," ",o&&(c?(0,e.jsxs)("div",{className:j().root__control,children:[" ",(0,e.jsx)("button",{onClick:()=>s(c,!0),type:"button",children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)("b",{children:c.count}),(0,e.jsx)("button",{onClick:()=>r(n),type:"button",children:(0,e.jsx)(g.Z,{})})]}):(0,e.jsx)("button",{onClick:()=>r(n),children:"Добавить в корзину"}))]})},Z=o(7575),w=o.n(Z),P=o(4420),M=t=>{let{device:n}=t,{rate:o}=n.rating,{data:r}=(0,c.useSession)();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:w().root,children:[(0,e.jsx)(x(),{src:n.image,alt:n.title,layout:"responsive",width:100,height:100}),(0,e.jsxs)("div",{className:w().root__info,children:[(0,e.jsx)("h1",{children:n.title}),(0,e.jsx)("p",{children:n.description}),(0,e.jsxs)("div",{className:w().root__rating,children:[(0,e.jsx)("span",{children:"Оценка: "})," ",(0,e.jsx)("span",{className:w().root__rating__value,children:o})]}),(0,e.jsxs)("span",{children:["Купили: ",n.countBuy," раз"]})]})]}),(0,e.jsxs)("div",{className:w().root__bottom,children:[(0,e.jsx)(h,{href:"/",className:w().return,children:"Назад"}),r&&(0,e.jsxs)(h,{href:P.H.adminChangeId(n.id),className:w().root__fix,children:[(0,e.jsx)("span",{children:"Редактировать"}),(0,e.jsx)(p.Z,{color:"#1a1818",size:15})]}),(0,e.jsx)(y,{device:n,session:r})]})]})},L=o(20),A=!0,B=()=>{let{data:t}=(0,c.useSession)(),n=(0,i.v9)(d),o=(0,i.v9)(a.Mg);return(0,e.jsx)("article",{className:_()(s().root,"container",{[s().loading]:o}),children:o?(0,e.jsx)(u.Z,{className:s().root__spinner,size:100}):(0,e.jsx)(e.Fragment,{children:n?(0,e.jsx)(M,{device:n}):(0,e.jsx)(L.Z,{title:"Товар не найден",image:"/empty.jpg",backLink:"home"})})})}},20:function(t,n,o){"use strict";var e=o(5893);o(7294);var r=o(5675),s=o.n(r),i=o(4219),c=o.n(i),a=o(1664),l=o.n(a),_=o(4420);n.Z=t=>{let{title:n,description:o,image:r,backLink:i,textLink:a}=t;return(0,e.jsx)("div",{className:"container",children:(0,e.jsx)("section",{className:c().root,children:(0,e.jsxs)("div",{className:c().blocks,children:[(0,e.jsx)("div",{className:c().block,children:(0,e.jsx)(s(),{src:r,alt:n,width:400,height:400})}),(0,e.jsx)("div",{className:c().block,children:(0,e.jsx)("h1",{children:n})}),o&&(0,e.jsx)("p",{children:o}),(0,e.jsx)("div",{className:c().block,children:(0,e.jsx)(l(),{className:c().btnBack,href:_.H[i],children:a||"Вернуться назад"})})]})})})}},2257:function(t,n,o){"use strict";o.d(n,{Mg:function(){return s},R7:function(){return r},SV:function(){return e},um:function(){return i}});let e=t=>t.productsActions.deleteLoading,r=t=>t.productsActions.changeLoading,s=t=>t.productsActions.getLoading,i=t=>t.productsActions.product},4262:function(t,n,o){"use strict";o.d(n,{U:function(){return i}});var e=o(3889),r=o(7301),s=o(5007);let i=()=>{let t=JSON.parse(JSON.stringify((0,s.v9)(e.B8))),n=(0,s.I0)();return{handlerAdd:o=>{let e=t.find(t=>{let{id:n}=t;return n===o.id});Array.isArray(t)||(t=[]),e?(console.log("повторное добавление",e),e.count+=1,e.totalPrice+=o.price):(console.log(" добавление",o),t.push({...o,count:1,totalPrice:o.price}),console.log(" добавление",e)),(0,r.H)(t,n)}}}},3144:function(t,n,o){"use strict";o.d(n,{k:function(){return i}});var e=o(3889),r=o(7301),s=o(5007);let i=()=>{let t=[...(0,s.v9)(e.B8)],n=(0,s.I0)();return{handlerDelete:function(o){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{id:s,count:i,totalPrice:c}=o;if(e&&i>1)t=t.map(t=>t.id===s?{...t,count:--i,totalPrice:c-o.price}:t);else{let n=t.findIndex(t=>{let{id:n}=t;return n===o.id});t.splice(n,1)}(0,r.H)(t,n)}}}},3171:function(t,n,o){"use strict";var e=o(5893),r=o(714),s=o.n(r),i=o(3967),c=o.n(i);n.Z=t=>{let{size:n,strokeWidth:o=6,className:r}=t,i=n/2;return(0,e.jsx)("svg",{className:c()(s().root,r),viewBox:"0 0 ".concat(n," ").concat(n),xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"transparent",children:(0,e.jsx)("circle",{className:s().root__path,stroke:"inherit",strokeWidth:o,strokeLinecap:"round",cx:i,cy:i,r:i})})}},7301:function(t,n,o){"use strict";o.d(n,{H:function(){return i}});var e=o(8507),r=o(2169),s=o(3581);let i=(t,n)=>{console.log("basketProducts",t),console.log("totalPrice",(0,s.V)(t,"totalPrice")),n((0,e.eh)((0,s.V)(t,"count"))),n((0,e.m1)((0,s.V)(t,"totalPrice"))),n((0,e.Re)(t)),(0,r.a)(t,"basket")}},4219:function(t){t.exports={root:"empty-page_root__cZczI",blocks:"empty-page_blocks__9Y9AR",btnBack:"empty-page_btnBack__ud4F6"}},8994:function(t){t.exports={root:"product_root__H9pSL",loading:"product_loading__Rm6MJ",root__spinner:"product_root__spinner__7rz7c"}},893:function(t){t.exports={root:"aside-actions-device_root__DhI1t",root__control:"aside-actions-device_root__control__R2t8I"}},7575:function(t){t.exports={root:"main-info-card_root__sXopk",root__info:"main-info-card_root__info__u2c4K",root__rating:"main-info-card_root__rating__tRZva",root__rating__value:"main-info-card_root__rating__value__htjOL",root__bottom:"main-info-card_root__bottom__k7MLr",root__fix:"main-info-card_root__fix__Bh9dV"}},714:function(t){t.exports={root:"spinner_root__bTm2b",rotator:"spinner_rotator__JW5KF",root__path:"spinner_root__path__Hl9xr",dash:"spinner_dash__k9eFl",colors:"spinner_colors__pVAZV"}}},function(t){t.O(0,[888,774,179],function(){return t(t.s=8871)}),_N_E=t.O()}]);